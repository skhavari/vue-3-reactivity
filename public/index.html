<!DOCTYPE html>
<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Vue 3 Reactivity</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.2/css/bulma.min.css" />
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css" />
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
        <script>
            hljs.initHighlightingOnLoad();
        </script>
        <style>
            pre.codes {
                padding: 0;
            }
        </style>
    </head>
    <body>
        <section class="section">
            <div class="container">
                <section class="hero is-light" style="margin-bottom: 15px;">
                    <div class="hero-body">
                        <div class="container">
                            <h1 class="title">
                                Vue 3 Reactvity
                            </h1>
                        </div>
                    </div>
                </section>
                <div class="field">
                    <div class="control">
                        <input type="text" class="input is-primary is-large" placeholder="Type here" />
                    </div>
                </div>
                <div class="columns">
                    <div class="column is-half">
                        <article class="message is-primary">
                            <div class="message-header">
                                <p>Number of Key Presses</p>
                            </div>
                            <div class="message-body" id="count"></div>
                        </article>
                    </div>
                    <div class="column is-half">
                        <article class="message is-primary">
                            <div class="message-header">
                                <p>What You Typed</p>
                            </div>
                            <div class="message-body" id="echo">&lt;blank&gt;</div>
                        </article>
                    </div>
                </div>

                <pre class="codes"><code class="javascript">
import { ref, watchEffect } from 'vue';

let inputEl = document.querySelector('input');
let countEl = document.querySelector('#count');
let textEl = document.querySelector('#echo');

const emptyText = '🍩';

let count = ref(0);
let text = ref(emptyText);

let onCountUpdated = () => countEl.textContent = count.value;
let onTextUpdated = () => textEl.textContent = text.value;

watchEffect(onCountUpdated);
watchEffect(onTextUpdated);

inputEl.addEventListener('keydown', () => count.value++);
inputEl.addEventListener('keyup', () => text.value = inputEl.value.length ? inputEl.value : emptyText);
                  
                  </code></pre>
            </div>
        </section>
    </body>
</html>
